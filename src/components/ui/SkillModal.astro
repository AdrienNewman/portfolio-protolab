---
/**
 * SkillModal - Generic skill detail modal component
 * Replaces: ModalWindows, ModalLinux, ModalProxmox, ModalPaloalto,
 *           ModalObservability, ModalLLM, ModalBackup, ModalCloud
 */
import { getIconPath, getIconColor } from '../../utils/icons';

interface SkillSection {
  title: string;
  items: string[];
}

interface Props {
  id: string;
  title: string;
  iconName: string;
  sections: SkillSection[];
}

const { id, title, iconName, sections } = Astro.props;

const icon = getIconPath(iconName);
const color = getIconColor(iconName);
---

<div id={`modal-${id}`} class="modal-overlay">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="modal-title">
        <div class="modal-title-icon">
          <svg viewBox="0 0 24 24" fill={color}><path d={icon} /></svg>
        </div>
        {title}
      </h2>
      <button class="modal-close" aria-label="Fermer">
        <svg viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12"/></svg>
      </button>
    </div>
    <div class="modal-body">
      {sections.map(section => (
        <div class="modal-section">
          <h4 class="modal-section-title">{section.title}</h4>
          <ul class="modal-list">
            {section.items.map(item => (
              <li set:html={item} />
            ))}
          </ul>
        </div>
      ))}
      <button class="modal-cta" onclick="scrollToSection('projets');">
        Voir les projets
        <svg viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </button>
    </div>
  </div>
</div>
