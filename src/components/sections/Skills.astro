---
// Skills Section Component
import SkillCard from '../ui/SkillCard.astro';
import { getIconPath } from '../../utils/icons';
---

<section class="section section-dark" id="competences">
    <div class="skills-container">
        <div class="section-header">
            <span class="section-label">Expertise</span>
            <h2 class="section-title">Mes <span>Compétences</span></h2>
            <p class="section-desc">Technologies et outils maîtrisés au cours de ma formation TSSR et de mes projets personnels sur mon homelab Protolab.</p>
        </div>

        <div class="skills-grid">
            <!-- Windows Server -->
            <SkillCard
                number="01"
                title="Windows Server"
                description="Administration Active Directory, GPO, DNS, DHCP. Déploiement et gestion d'infrastructures Windows."
                tags={['AD DS', 'GPO', 'DNS', 'PowerShell']}
                iconName="windows"
                preview="preview-windows"
                modal="modal-windows"
            />

            <!-- Linux -->
            <SkillCard
                number="02"
                title="Linux"
                description="Administration système Debian/Ubuntu, scripting Bash, gestion des services, conteneurisation Docker."
                tags={['Debian', 'Bash', 'Docker', 'LXC']}
                iconName="linux"
                preview="preview-linux"
                modal="modal-linux"
            />

            <!-- Palo Alto -->
            <SkillCard
                number="03"
                title="Palo Alto"
                description="Configuration de firewalls Next-Gen. Politiques de sécurité, NAT, VPN GlobalProtect."
                tags={['PAN-OS', 'GlobalProtect', 'Threat Prevention']}
                iconName="paloaltonetworks"
                preview="preview-paloalto"
                modal="modal-paloalto"
            />

            <!-- Virtualisation -->
            <SkillCard
                number="04"
                title="Virtualisation"
                description="Hyperviseur Proxmox VE, création et gestion de VMs et conteneurs LXC, passthrough GPU."
                tags={['Proxmox', 'VMware', 'KVM', 'GPU Passthrough']}
                iconName="proxmox"
                preview="preview-proxmox"
                modal="modal-proxmox"
            />

            <!-- Monitoring -->
            <SkillCard
                number="05"
                title="Monitoring"
                description="Stack observabilité complète : collecte de logs, métriques, dashboards."
                tags={['Grafana', 'VictoriaLogs', 'OpenTelemetry']}
                iconName="grafana"
                preview="preview-observability"
                modal="modal-observability"
            />

            <!-- LLM -->
            <SkillCard
                number="06"
                title="Local LLM"
                description="Déploiement d'environnements IA locaux avec accélération GPU."
                tags={['Ollama', 'CUDA', 'Open WebUI']}
                iconName="nvidia"
                preview="preview-llm"
                modal="modal-llm"
            />

            <!-- Backup -->
            <SkillCard
                number="07"
                title="Backup"
                description="Stratégies de sauvegarde 3-2-1, automatisation, restauration."
                tags={['3-2-1', 'Snapshots', 'Automation']}
                iconName="git"
                preview="preview-backup"
                modal="modal-backup"
            />

            <!-- Cloud Local -->
            <SkillCard
                number="08"
                title="Cloud Local"
                description="Conception de cloud privé : services conteneurisés, orchestration."
                tags={['Private Cloud', 'Containers', 'IAM']}
                iconName="docker"
                preview="preview-cloud"
                modal="modal-cloud"
            />
        </div>
    </div>
</section>

<style>
    .section { position: relative; z-index: 1; padding: 8rem 2rem; }
    .section-dark { background: transparent; }

    .section-header { text-align: center; margin-bottom: 5rem; }

    .section-label {
        display: inline-block;
        font-family: 'Space Mono', monospace;
        font-size: 0.75rem;
        font-weight: 700;
        letter-spacing: 0.3em;
        text-transform: uppercase;
        color: var(--neon-cyan);
        margin-bottom: 1rem;
        padding: 0.5rem 1rem;
        border: 1px solid var(--neon-cyan);
        opacity: 0;
        transform: translateY(20px);
    }

    .section-title {
        font-family: 'Bebas Neue', sans-serif;
        font-size: clamp(3rem, 8vw, 6rem);
        letter-spacing: 0.02em;
        line-height: 1;
        margin-bottom: 1.5rem;
        opacity: 0;
        transform: translateY(30px);
    }

    .section-title span { color: var(--neon-cyan); }

    .section-desc {
        font-family: 'Bebas Neue', sans-serif;
        font-size: 1.2rem;
        color: var(--gray-light);
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.4;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        opacity: 0;
        transform: translateY(20px);
    }

    .skills-container { max-width: 1400px; margin: 0 auto; }

    .skills-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 1.5rem;
        max-width: 900px;
        margin: 0 auto;
        align-items: start;
        grid-auto-rows: 1fr;
    }

    @media (max-width: 768px) {
        .section { padding: 5rem 1.5rem; }
        .section-header { margin-bottom: 3rem; }

        .skills-grid {
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
            gap: 1rem;
        }
    }
</style>
