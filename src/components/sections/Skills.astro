---
// Skills Section Component - Utilise skills.json
import SkillCard from '../ui/SkillCard.astro';
import skillsData from '../../data/skills.json';
import type { SkillData } from '../../types/content';

const skills = skillsData as SkillData[];
---

<section class="section section-dark" id="competences">
    <div class="skills-container">
        <div class="section-header">
            <span class="section-label">Expertise</span>
            <h2 class="section-title">Mes <span>Compétences</span></h2>
            <p class="section-desc">Technologies et outils maîtrisés au cours de ma formation TSSR et de mes projets personnels sur mon homelab Protolab.</p>
        </div>

        <div class="skills-grid">
            {skills.map((skill, index) => (
                <SkillCard
                    number={String(index + 1).padStart(2, '0')}
                    title={skill.previewTitle}
                    description={skill.previewDescription}
                    tags={skill.previewTags}
                    iconName={skill.icon}
                    preview={`preview-${skill.id}`}
                    modal={`modal-${skill.id}`}
                />
            ))}
        </div>
    </div>
</section>

<style>
    .section { position: relative; z-index: 1; padding: 8rem 2rem; }
    .section-dark { background: transparent; }

    .section-header { text-align: center; margin-bottom: 5rem; }

    .section-label {
        display: inline-block;
        font-family: 'Space Mono', monospace;
        font-size: 0.75rem;
        font-weight: 700;
        letter-spacing: 0.3em;
        text-transform: uppercase;
        color: var(--neon-cyan);
        margin-bottom: 1rem;
        padding: 0.5rem 1rem;
        border: 1px solid var(--neon-cyan);
        opacity: 0;
        transform: translateY(20px);
    }

    .section-title {
        font-family: 'Bebas Neue', sans-serif;
        font-size: clamp(3rem, 8vw, 6rem);
        letter-spacing: 0.02em;
        line-height: 1;
        margin-bottom: 1.5rem;
        opacity: 0;
        transform: translateY(30px);
    }

    .section-title span { color: var(--neon-cyan); }

    .section-desc {
        font-family: 'Bebas Neue', sans-serif;
        font-size: 1.2rem;
        color: var(--gray-light);
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.4;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        opacity: 0;
        transform: translateY(20px);
    }

    .skills-container { max-width: 1400px; margin: 0 auto; }

    .skills-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 1.5rem;
        max-width: 900px;
        margin: 0 auto;
        align-items: start;
        grid-auto-rows: 1fr;
    }

    @media (max-width: 768px) {
        .section { padding: 5rem 1rem; }
        .section-header { margin-bottom: 2.5rem; }

        .section-title {
            font-size: clamp(2rem, 6vw, 3rem);
        }

        .section-desc {
            font-size: 1rem;
        }

        /* Grille 3 colonnes sur tablette */
        .skills-grid {
            grid-template-columns: repeat(3, 1fr);
            gap: 0.75rem;
        }
    }

    @media (max-width: 480px) {
        .section { padding: 4rem 0.75rem; }

        /* Grille 2 colonnes sur mobile */
        .skills-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
        }
    }
</style>
